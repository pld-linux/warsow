--- warsow-0.5.orig/source/ref_gl/r_image.c	2009-06-03 21:52:13.000000000 +0200
+++ warsow-0.5/source/ref_gl/r_image.c	2010-05-04 18:32:55.176936391 +0200
@@ -17,6 +17,9 @@
 Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, USA.
 */
 
+// for jpeglib
+#define HAVE_PROTOTYPES
+
 #include "r_local.h"
 
 #if defined ( __MACOSX__ )
@@ -924,7 +927,7 @@
 	cinfo->src->bytes_in_buffer -= (size_t) num_bytes;
 }
 
-static void jpeg_mem_src( j_decompress_ptr cinfo, qbyte *mem, int len )
+static void crjpeg_mem_src( j_decompress_ptr cinfo, qbyte *mem, int len )
 {
 	cinfo->src = (struct jpeg_source_mgr *)
 		( *cinfo->mem->alloc_small )( (j_common_ptr) cinfo,
